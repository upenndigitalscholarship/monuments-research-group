---
title: Main
layout: base.njk
---

<div class="card">
    <div class="card-body">
        <h3>Welcome to the Historic Black Perspectives on Confederate Commemoration project!</h3>

        <p>The articles gathered here tell the stories of how Black journalists from the late nineteenth century to the present viewed efforts by white Southerners to celebrate the Confederacy in the long aftermath of the US Civil War.</p>

        <p>Read an <a href="introduction">introduction to the project here</a> or start browsing!</p>

    </div>
</div>

<div id="filter-box">
    {# for each unique lable in collections.essays , add a button #}
    {% for topic in collections.essays | getUniqueTopics %}
        <button class="filter-button" data-label="{{ topic }}">{{ topic }}</button><br>
        {# add event to button on click #}
        <script>
            document.querySelector('[data-label="{{ topic }}"]').addEventListener('click', function() {
                console.log(this.dataset.label);
                // filter map for points with this label

                
                
            });
        </script>
    {% endfor %}
    
</div>

<style>
    #map {
        height: 60vh;
    }

    #filter-box {
        position: absolute;
        top: 40vh;
        left: 20px;
        z-index: 999;
    }

    .filter-button {
        margin-bottom: 10px;
    }
</style>

<div id="map"></div>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
<script>
    let map = L
        .map('map')
        .setView([
            40.26029244302987, -90.23749139976277
        ], 5);
    L
        .tileLayer('https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 20
        })
        .addTo(map);
    {% for essay in collections.essays %}
        {% if essay.data.lat and essay.data.long %}
            L
                .marker([{{ essay.data.lat }}, {{ essay.data.long }}], {title: '{{ essay.data.topic }}'})
                .addTo(map)
                .bindPopup('<a href="/essay/{{ essay.fileSlug }}">{{ essay.data.title }}</a>');
                
        {% endif %}
    {% endfor %}
</script>

